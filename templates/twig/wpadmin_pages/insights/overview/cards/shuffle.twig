<div class="row mb-1">
	<div class="col">
		<h4>
			Your Security At A Glance
			<small class="d-block">
				Quickly discover where your site security is doing well or areas that can be improved
			</small>
		</h4>
	</div>
</div>

<div class="row mb-3">
	<div class="col-12">
		<h6>Click To Filter By Status
			<small><a href="#" id="ClearFilterState">Clear Filter</a></small>
		</h6>
	</div>
	<div class="col-12">
		<div class="btn-group filter-states" role="group" aria-label="Basic example">
			{% for state_key in vars.overview_cards.states %}
				<button type="button" class="btn btn-outline-dark"
						data-category="state"
						data-filter="{{ state_key }}">{{ attribute(vars.overview_cards.state_names, state_key) }}</button>
			{% endfor %}
		</div>
	</div>
</div>

<div class="row mb-4">
	<div class="col-12">
		<h6>
			Click To Filter By Security Area
			<small><a href="#" id="ClearFilterArea">Clear Filter</a></small>
		</h6>
	</div>
	<div class="col-12">
		<div class="btn-group filter-groups" role="group" aria-label="Basic example">
			{% for card_group_key,card_group_name in vars.overview_cards.mod_groups %}
				<button type="button" class="btn btn-outline-dark"
						data-category="mod"
						data-filter="{{ card_group_key }}">{{ card_group_name }}</button>
			{% endfor %}
		</div>
	</div>
</div>

<div class="row overview-card-row mb-3 card-deck" id="overview-card-shuffle">
{% for card_section in vars.overview_cards.sections %}
	{% for card in card_section.cards %}
		<div class="col-xl-2 col-lg-3 col-md-4 card-item"
				{% if not card.groups is empty %}
					data-groups='["{{ card.groups|keys|join('","') }}"]'
				{% else %}
					data-groups='[]'
				{% endif %}

			 data-state="{{ card.state }}"
		>
			<div class="text-center overview card mb-3
				{% if card.state == 'danger' %}
				state-danger
				{% elseif card.state == 'warning' %}
				state-warning
				{% elseif card.state == 'info' %}
				state-ok
				{% else %}
				state-good
				{% endif %}
				"
				 id="overviewcard-{{ card.id }}"
				 {% if card.summary is defined %}title="{{ card.summary }}"{% endif %}
			>
					<div class="card-header font-weight-bolder">
						{{ card.name }}
					</div>
					<div class="card-body">
						{{ card.summary }}
					</div>
					<div class="card-footer ">
						<span class="badge badge-secondary">{{ card.mod }}</span>
						<a href="{{ card.href }}" title="{{ strings.go_to_options }}"
						   class=""><span class="dashicons dashicons-admin-generic"></span></a>
					</div>
				</div>
			</div>
	{% endfor %}
{% endfor %}
	</div>
<script>

document.addEventListener( 'DOMContentLoaded', function () {
	window.demo = new ShieldCardShuffle(
		document.getElementById( 'overview-card-shuffle' ),
		'.card-deck .card-item'
	);

	document.getElementById("ClearFilterArea").addEventListener( 'click', function ( evt ) {
		var filterByArea = document.querySelector( '.filter-groups' );
		if ( filterByArea ) {
			var filterStatesButtons = Array.from( filterByArea.children );
			filterStatesButtons.forEach( function ( button ) {
				if (button.classList.contains( "active" ) ) {
					button.dispatchEvent( new MouseEvent( "click", { bubbles: true, cancellable: true } ) );
				}
			} );
		}
	} );

	document.getElementById("ClearFilterState").addEventListener( 'click', function ( evt ) {
		var filterByArea = document.querySelector( '.filter-states' );
		if ( filterByArea ) {
			var filterStatesButtons = Array.from( filterByArea.children );
			filterStatesButtons.forEach( function ( button ) {
				if (button.classList.contains( "active" ) ) {
					button.dispatchEvent( new MouseEvent( "click", { bubbles: true, cancellable: true } ) );
				}
			} );
		}
	} );
} );
</script>